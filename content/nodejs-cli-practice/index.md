---
emoji: ğŸ
title: Practice Nodejs CLI App
date: '2023-02-15 09:28:00'
author: ê¹€ìš©ë²”
tags: nodejs-cli nodejs
categories: nodejs 
---

# Practice Nodejs CLI App

# Reference

í˜„ì¬ ê²Œì‹œê¸€ì€ lirantalì˜ nodejs-cli-apps-best-practicesë¥¼ ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.

ëŒ€ë¶€ë¶„ êµ¬ê¸€ë²ˆì—­ê¸°ë¥¼ ì‚¬ìš©í•˜ì˜€ì§€ë§Œ.. ê°œì¸ì ì¸ ê²¬í•´ë¡œ ë¹ ì§€ê±°ë‚˜ ìˆ˜ì •ëœ ë¶€ë¶„ì´ ìˆê¸°ë•Œë¬¸ì— Nodejs CLIì— ëŒ€í•œ ê°œë°œ êµ¬ì„±ì„ ê³ ë ¤í•˜ê³ ê³„ì‹œë‹¤ë©´

ê¼­ ì›ë¬¸ì„ ì°¸ê³ í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.

ê°ì‚¬í•©ë‹ˆë‹¤.

> [ì›ë¬¸ lirantal/nodejs-cli-apps-best-practices](https://github.com/lirantal/nodejs-cli-apps-best-practices)

## 1. Command Line Experience(ê²½í—˜)

ì´ ëª©ì°¨ì—ì„œëŠ” ìˆ˜ì¤€ ë†’ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•˜ëŠ” `nodejs` CLIì„ ë§Œë“œëŠ” ê²ƒê³¼ ê´€ë ¨ëœ ëª¨ë²”ì‚¬ë¡€ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.

### 1.1 Respect POSIX args

`POSIX`ê·œê²©ì„ ì§€í‚¬ê²ƒ

> `POSIX`ë€, IEEEê°€ ì œì •í•œ ìœ ë‹‰ìŠ¤ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œê·¸ë˜ë° ì¸í„°í˜ì´ìŠ¤(API) ê·œê²©ì´ë‹¤

âœ… **DO**: CLIì˜ í‘œì¤€ìœ¼ë¡œ ì¸ì •ë˜ëŠ” `POSIX` ê·œê²©ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

âŒ **Otherwise**: ì‚¬ìš©ìëŠ” í‘œì¤€ ê·œê²©ì´ ì•„ë‹Œ CLIì— ì‹¤ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â„¹ï¸ **Detail**

Unix ê³„ì—´ì˜ OSëŠ” `awk`, `sed`ì™€ ê°™ì€ CLIì˜ ì‚¬ìš©ì„ ëŒ€ì¤‘í™”í–ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì»¤ë§¨ë“œ í”„ë¡œê·¸ë¨ì˜ ì‚¬ìš©ì€ ì˜µì…˜(í”Œë˜ê·¸), ì˜µì…˜ ì¸ìˆ˜ ë° ê¸°íƒ€ í”¼ì—°ì‚°ìì˜ ë™ì‘ì„ íš¨ê³¼ì ìœ¼ë¡œ í‘œì¤€í™”í•˜ì˜€ìŠµë‹ˆë‹¤.

ëª‡ê°€ì§€ ì˜ˆ

- ì˜µì…˜ì˜ ì¸ìˆ˜ê°’ë“¤ì„ ëŒ€ê´„í˜¸([])ë¥¼ í‘œì‹œí•˜ì—¬ ì„ íƒì‚¬í•­ì„ì„ ë‚˜íƒ€ë‚´ê±°ë‚˜ êº½ì‡ (<>)ë¥¼ ì‚¬ìš©í•˜ì—¬ í•„ìˆ˜ì„ì„ í‘œì‹œí•˜ì˜€ìŠµë‹ˆë‹¤.
- ì§§ì€ í˜•ì‹ì˜ ë‹¨ì¼ ë¬¸ì ì¸ìˆ˜ë¥¼ ê¸´ í˜•ì‹ ì¸ìˆ˜ì˜ ë³„ì¹­ìœ¼ë¡œ í—ˆìš©í•©ë‹ˆë‹¤.
- ì˜µì…˜ì— ëŒ€í•˜ì—¬ `-`ë¥¼ ì‚¬ìš©í•˜ë©° í•˜ë‚˜ì˜ ì˜ë¬¸ìë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
- ê°’ì´ ì—†ëŠ” ì˜µì…˜ì„ ì‚¬ìš©í• ë•Œ ê·¸ë£¹í™”ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.(`cli -abc` ëŠ” `cli -a -b -c`ì™€ ë™ì¼í•©ë‹ˆë‹¤.)

ë”°ë¼ì„œ, ì‚¬ìš©ìëŠ” CLIì´ Unix Appê³¼ ìœ ì‚¬í•œ ê·œì¹™ì„ ê°€ì§€ê¸¸ ê¸°ëŒ€í•©ë‹ˆë‹¤.

ğŸ“¦ **Recommended packages**

ì˜¤í”ˆì†ŒìŠ¤ íŒ¨í‚¤ì§€

- commander
- yargs

### 1.2 Build empathic CLIs

ì‚¬ìš©ì ì¹œí™”ì ì¸ CLIë¥¼ ë§Œë“¤ê²ƒ

âœ… **Do**: ì‚¬ìš©ìì™€ CLIê°€ ì›í™œí•˜ê²Œ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆë„ë¡ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‘ì„±í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.

âŒ **Otherwise**: ì‚¬ìš©ìì—ê²Œ ê¸°ëŠ¥ë“¤ì´ ì ì ˆí•˜ê²Œ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ì‹¤ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 1.3 Stateful data

âœ… **Do**: CLI ì•±ì˜ ì—¬ëŸ¬ í˜¸ì¶œ ê°„ì— ìƒíƒœë¥¼ ì €ì¥,ì œê³µí•˜ê³  ì›í™œí•œ ìƒí˜¸ ì‘ìš©ì„ ì œê³µí•˜ê¸° ìœ„í•´ ê°’ê³¼ ë°ì´í„°ë¥¼ ê¸°ì–µí•©ë‹ˆë‹¤.

âŒ **Otherwise**: ì‚¬ìš©ìê°€ CLIë¥¼ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œí•˜ì—¬ ë™ì¼í•œ ì •ë³´ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ì œê³µí•˜ë„ë¡ ìš”êµ¬í•˜ë©´ ì‚¬ìš©ìë¥¼ ì§œì¦ë‚˜ê²Œ í•  ê²ƒì…ë‹ˆë‹¤.

â„¹ï¸ **Detail**

CLIë¥¼ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œí•  ë•Œ ì‚¬ìš©ì ì´ë¦„, ì´ë©”ì¼, API í† í° ë˜ëŠ” ê¸°íƒ€ ê¸°ë³¸ ì„¤ì •ì„ ê¸°ì–µí•˜ëŠ” ê²ƒê³¼ ê°™ì´ CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì˜ì†ì„± ìŠ¤í† ë¦¬ì§€ë¥¼ ì œê³µí•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì•±ì´ ì´ëŸ¬í•œ ì‚¬ìš©ì ì„¤ì •ì„ ìœ ì§€í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” configuration helper ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

íŒŒì¼ì„ ì½ê³  ì“¸ ë•Œ [XDG ê¸°ë³¸ ë””ë ‰í† ë¦¬ ì‚¬ì–‘](https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html)ì„ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤.
(ë˜ëŠ” ì‚¬ì–‘ì„ ì¡´ì¤‘í•˜ëŠ” configuration helper ì„ íƒ) ì´ë¥¼ í†µí•´ ì‚¬ìš©ìëŠ” íŒŒì¼ì´ ê¸°ë¡ë˜ê³  ê´€ë¦¬ë˜ëŠ” ìœ„ì¹˜ë¥¼ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Reference projects:

- configstore
- conf

### 1.4 Provide a colorful experience

ë‹¤ì±„ë¡œìš´ ê²½í—˜ ì œê³µ

âœ… **Do**: CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìƒ‰ìƒì„ ì‚¬ìš©í•˜ì—¬ ì•± ì¶œë ¥ì˜ ì¼ë¶€ë¥¼ ê°•ì¡° í‘œì‹œí•©ë‹ˆë‹¤.

âŒ **Otherwise**: íŠ¹íˆ ì¶œë ¥ì— í…ìŠ¤íŠ¸ê°€ ë§ì€ ê²½ìš° í¬ë¯¸í•œ í”„ë¡œê·¸ë¨ ì¶œë ¥ì—ì„œ â€‹â€‹ì •ë³´ê°€ ì‰½ê²Œ ì†ì‹¤ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â„¹ï¸ **Detail**

ì˜¤ëŠ˜ë‚  ì»¤ë§¨ë“œ í”„ë¡œê·¸ë¨ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ëŒ€ë¶€ë¶„ì˜ í„°ë¯¸ë„ì€ íŠ¹ë³„íˆ ì œì‘ëœ ANSI ì¸ì½”ë”© ë¬¸ìë¡œ í™œì„±í™”ë˜ëŠ” ê²ƒê³¼ ê°™ì€ ì»¬ëŸ¬ í…ìŠ¤íŠ¸ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

ì»¤ë§¨ë“œ í”„ë¡œê·¸ë¨ ì¶œë ¥ì˜ ë‹¤ì±„ë¡œìš´ ë””ìŠ¤í”Œë ˆì´ëŠ” ë”ìš± í’ë¶€í•œ ê²½í—˜ê³¼ í–¥ìƒëœ ìƒí˜¸ ì‘ìš©ì— ê¸°ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰, ì§€ì›ë˜ì§€ ì•ŠëŠ” ë‹¨ë§ê¸°ëŠ” í™”ë©´ì— ì™œê³¡ëœ ì •ë³´ì˜ í˜•íƒœë¡œ ì¶œë ¥ì´ ì €í•˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ì»¬ëŸ¬ ì¶œë ¥ì„ ì§€ì›í•˜ì§€ ì•Šì„ ìˆ˜ ìˆëŠ” ì§€ì†ì  í†µí•© ë¹Œë“œ ì‘ì—…ì—ì„œ CLIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¹Œë“œ ì„œë²„ ì™¸ë¶€ì—ì„œë„ íŠ¹ì • ë¬¸ìë¥¼ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ëŠ” IDEì˜ ì½˜ì†”ì„ í†µí•´ CLIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìˆ˜ë™ ì˜µíŠ¸ì•„ì›ƒì´ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤.

ğŸ“¦ Recommended packages

Reference to Open Source Node.js packages:

- chalk
- colors
- kleur

### 1.5 Rich interactions

í’ë¶€í•œ ìƒí˜¸ì‘ìš©

âœ… **Do**: CLI ì‚¬ìš©ìì—ê²Œ ë³´ë‹¤ ì›í™œí•œ ê²½í—˜ì„ ì œê³µí•˜ê¸° ìœ„í•´ í…ìŠ¤íŠ¸ ì…ë ¥ ì™¸ì˜ ë‹¤ì–‘í•œ ì…ë ¥ ë°©ì‹ì„ í™œìš©í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤..

âŒ **Otherwise**: ì œê³µëœ ë°ì´í„°ê°€ ë¹„ê°€ì‹œì  ì˜µì…˜(ì˜ˆ: ë“œë¡­ë‹¤ìš´)ì˜ í˜•íƒœì¸ ê²½ìš°, í…ìŠ¤íŠ¸ ì…ë ¥ì€ ì‚¬ìš©ìì—ê²Œ ë²ˆê±°ë¡œìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â„¹ï¸ **Detail**

ë“œë¡­ë‹¤ìš´ ì„ íƒ ëª©ë¡, ë¼ë””ì˜¤ ë²„íŠ¼ í† ê¸€, í‰ê°€, ìë™ ì™„ì„± ë˜ëŠ” ìˆ¨ê²¨ì§„ ì•”í˜¸ ì…ë ¥ê³¼ ê°™ì´ ììœ  í…ìŠ¤íŠ¸ë³´ë‹¤ ë” ê¸°ëŠ¥ì ì¸ ì‚¬ìš©ì ì…ë ¥ì˜ íƒ€ì…ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜ ë‹¤ë¥¸ ìœ í˜•ì€ ë¹„ë™ê¸° ì‘ì—…ì´ ìˆ˜í–‰ë  ë•Œ ì‚¬ìš©ìì—ê²Œ ë” ë‚˜ì€ ê²½í—˜ì„ ìœ„í•´ ì œê³µí•˜ëŠ” ì• ë‹ˆë©”ì´ì…˜ ë¡œë” ë° ì§„í–‰ë¥  í‘œì‹œì¤„ì˜ í˜•íƒœì…ë‹ˆë‹¤.

ëŒ€ë¶€ë¶„ì˜ CLIëŠ” ê¸°ë³¸ command ì¸ìˆ˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì•±ì´ ìì²´ì ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©ìì—ê²Œ ì…ë ¥í•˜ë„ë¡ ê°•ì œí•˜ì§€ ë§ˆì„¸ìš”.

ğŸ“¦ Recommended packages

Reference to Open Source Node.js packages:

- enquirer
- ora
- ink
- prompts

### 1.6 Hyperlinks everywhere

ì–´ë””ê³³ì—ì„œë‚˜ í•˜ì´í¼ë§í¬

Reference projects:

âœ… **Do**:í…ìŠ¤íŠ¸ ì¶œë ¥ì— ì˜¬ë°”ë¥¸ í˜•ì‹ì˜ í•˜ì´í¼ë§í¬ë¥¼ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.

> URL(ì˜ˆ: https://www.github.com) ë˜ëŠ” ì†ŒìŠ¤ì½”ë“œ(ì˜ˆ: src/Util.js:2:75)

ë‘˜ ë‹¤ ìµœì‹  í„°ë¯¸ë„ì´ í´ë¦­ ê°€ëŠ¥í•œ ë§í¬ë¡œ ë³€í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

âŒ **Otherwise**: ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©ìê°€ ë³µì‚¬ & ë¶™ì—¬ë„£ê¸°í•˜ì—¬ ì‚¬ìš©í•˜ì—¬ì•¼í•˜ëŠ” ë¹„í™œì„± ë§í¬ëŠ” ì‚¬ìš©í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.(ì˜ˆ: git.io/abc)

â„¹ï¸ **Detail**

URLì— ëŒ€í•œ ë§í¬ë¥¼ ê³µìœ í•˜ê±°ë‚˜ íŒŒì¼ê³¼ íŒŒì¼ì˜ íŠ¹ì • ì¤„ ë²ˆí˜¸ ë° ì—´ì„ ê°€ë¦¬í‚¤ëŠ” ê²½ìš° í´ë¦­í•˜ë©´ ë¸Œë¼ìš°ì € ë˜ëŠ” IDEê°€ ì—´ë¦¬ëŠ” ì˜¬ë°”ë¥¸ í˜•ì‹ì˜ ë§í¬ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Reference projects:

- open

### 1.7 Zero configuration

ë³„ë„ì˜ êµ¬ì„± ì—†ì´

âœ… **Do**: í•„ìˆ˜ êµ¬ì„± ë° command ì¸ìˆ˜ ê°’ì„ ìë™ ê°ì§€í•˜ì—¬ í”ŒëŸ¬ê·¸ ì•¤ í”Œë ˆì´ í™˜ê²½ì„ ìµœì í™”í•©ë‹ˆë‹¤.

âŒ **Otherwise**: command ì¸ìˆ˜ë¥¼ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë°©ì‹ìœ¼ë¡œ ìë™ ê°ì§€í•  ìˆ˜ ìˆê³  í˜¸ì¶œëœ ì‘ì—…ì— ì‚¬ìš©ì ìƒí˜¸ ì‘ìš©(ì˜ˆ: ì‚­ì œ í™•ì¸)ì´ ëª…ì‹œì ìœ¼ë¡œ í•„ìš”í•˜ì§€ ì•Šì€ ê²½ìš° ì‚¬ìš©ì ìƒí˜¸ ì‘ìš©ì„ ê°•ì œí•˜ì§€ ë§ˆì‹­ì‹œì˜¤.

â„¹ï¸ **Detail**

CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ë•Œ "ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥í•œ" ê²½í—˜ì„ ì œê³µí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•˜ì‹­ì‹œì˜¤. ì˜ˆë¥¼ ë“¤ì–´, POSIXëŠ” ë‹¤ì–‘í•œ ìš©ë„ë¡œ ì‚¬ìš©ë˜ëŠ” í™˜ê²½ ë³€ìˆ˜ êµ¬ì„±ì— ëŒ€í•œ í‘œì¤€ì„ ì •ì˜í•©ë‹ˆë‹¤. `TMPDIR`, `NO_COLOR`, `DEBUG`, `HTTP_PROXY` ë“±ê³¼ ê°™ì€, ì´ë¥¼ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  í•„ìš”í•œ ê²½ìš° í™•ì¸ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

Zero configuration ì°¸ì¡° í”„ë¡œì íŠ¸

- The Jest JavaScript Testing Framework
- Parcel, a web application bundler

### 1.8 Respect POSIX signals

POSIX ì‹œê·¸ë„ì„ ì§€ì¼œë¼

âœ… **Do**: í”„ë¡œê·¸ë¨ì´ POSIX ì‹œê·¸ë„ë¥¼ ì¡´ì¤‘í•˜ì—¬ ì‚¬ìš©ì ë˜ëŠ” ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ê³¼ì˜ ì ì ˆí•œ ìƒí˜¸ ì‘ìš©ì„ í—ˆìš©í•˜ëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤.

âŒ **Otherwise**: ê·€í•˜ì˜ í”„ë¡œê·¸ë¨ì€ ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ê³¼ ì˜ ì‘ë™í•˜ì§€ ì•Šìœ¼ë©° ì˜ˆìƒì¹˜ ëª»í•œ ë™ì‘ì„ ì¼ìœ¼í‚µë‹ˆë‹¤.

â„¹ï¸ **Detail**

íŠ¹íˆ CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš° ì‚¬ìš©ì ì…ë ¥ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë©° í‚¤ë³´ë“œ ì´ë²¤íŠ¸ë¥¼ ë¶€ì ì ˆí•˜ê²Œ ê´€ë¦¬í•˜ë©´ ì‚¬ìš©ìê°€ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” SIGINT ì¼ì‹œì •ì§€ì‹œ ì‚¬ìš©í•˜ëŠ” `CTRL+C` í‚¤ë¥¼ ëˆ„ë¥¼ ë•Œ ì•±ì´ ì‘ë‹µí•˜ì§€ ëª»í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í”„ë¡œì„¸ìŠ¤ ì‹œê·¸ë„ë¥¼ ì§€í‚¤ì§€ ì•ŠëŠ” ê²½ìš°ì—ëŠ” ì‚¬ëŒì´ ì•„ë‹Œ í”„ë¡œê·¸ë¨ì˜ ìƒí˜¸ ì‘ìš©ì— ì˜í•´ ì¡°ì •ë  ë•Œ ì•…í™”ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë„ì»¤ ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ë˜ì§€ë§Œ ì „ì†¡ëœ ì†Œí”„íŠ¸ì›¨ì–´ ì¼ì‹œì •ì§€ ì‹œê·¸ë„ì— ì‘ë‹µí•˜ì§€ ì•ŠëŠ” CLIê°€ ìˆìŠµë‹ˆë‹¤.

## 2 Distribution

ì´ ì„¹ì…˜ì—ì„œëŠ” ì†Œë¹„ìë¥¼ ìœ„í•œ ìµœì ì˜ ë¬¸ì œë¡œ Node.js CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ê³  íŒ¨í‚¤ì§•í•˜ëŠ” ê²ƒê³¼ ê´€ë ¨ëœ ëª¨ë²” ì‚¬ë¡€ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.

### 2.1 Prefer a small dependency footprint

ì‘ì€ ì˜ì¡´ì„± í’‹í”„ë¦°íŠ¸ ì„ í˜¸

âœ… **Do**: ìš´ì˜í™˜ê²½ì—ì„œì˜ ì¢…ì†ì„±ì„ ìµœì†Œí™”í•˜ê³ , ë” ì‘ì€ ì¢…ì†ì„±ìœ¼ë¡œ ëŒ€ì¹˜í•˜ê³ , Node.js CLIì˜ ìµœì†Œí•œì˜ ë²ˆë“¤ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ì¢…ì†ì„±ì˜ í’‹í”„ë¦°íŠ¸ì™€ ì „ì´ì  ì¢…ì†ì„±ì„ ê²€ì‚¬í•©ë‹ˆë‹¤. ì¤‘ë³µì ì¸ ì¢…ì†ì„± ì‚¬ìš©ì„ ê³¼ë„í•˜ê²Œ ìµœì í™”í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ì—¬ ê· í˜•ì„ ìœ ì§€í•´ì•¼í•©ë‹ˆë‹¤.

âŒ **Otherwise**: ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì¢…ì†ì„±ì˜ í¬ê¸°ì™€ ì‚¬ìš©ì´ Node.js CLIì˜ ì„¤ì¹˜ ì‹œê°„ì— ì˜í–¥ì„ ë¯¸ì³ ì‚¬ìš©ì ê²½í—˜ì´ ì €í•˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â„¹ï¸ **Detail**

`npx`ë¡œ í˜¸ì¶œëœ Node.js CLIì— ëŒ€í•œ ë¹ ë¥¸ `npm install`ëŠ” ë” ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.ì´ëŠ” ì „ì²´ ì¢…ì†ì„±ê³¼ ì „ì´ì  ì¢…ì†ì„±, í’‹í”„ë¦°íŠ¸ê°€ í•©ë¦¬ì ì¸ í¬ê¸°ë¡œ ìœ ì§€ë  ë•Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.

`npm` ì„¤ì¹˜ëŠ” ìµœì´ˆ í•œë²ˆì˜ ëŠë¦° ì†ë„ë¡œ ì €ìˆ˜ì¤€ì˜ ê²½í—˜ì„ ì œê³µí•˜ì§€ë§Œ,
`npx`ëŠ” í˜¸ì¶œí• ë•Œ ë§¤ë²ˆ íŒ¨í‚¤ì§€ë¥¼ ì¬ì„¤ì¹˜í•˜ê¸° ë•Œë¬¸ì— ì´ ë¶€ë¶„ì—ì„œì˜ ì°¨ì´ëŠ” ëª…í™•í•˜ë‹¤.

Reference projects:

- **Bundlephobia**is a tool to help you find the cost of a npm package.

### 2.2 Use the shrinkwrap, Luke

âœ… **Do**: npmì„ `npm-shrinkwrap.json` lockfileë¡œ ì‚¬ìš©í•˜ì—¬ ìµœì¢… ì‚¬ìš©ìê°€ npm íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•  ë•Œ ê³ ì • ì¢…ì†ì„± ë²„ì „(ì§ì ‘ ë° ì „ì´)ì´ ì „íŒŒë˜ë„ë¡ í•©ë‹ˆë‹¤.

âŒ **Otherwise**: ì•±ì˜ ì¢…ì†ì„± ë²„ì „ì„ ìˆ˜ì •í•˜ì§€ ì•Šìœ¼ë©´ íŒ¨í‚¤ì§€ ê´€ë¦¬ì(ì˜ˆ: npm)ê°€ ì„¤ì¹˜ ì¤‘ì— ì´ë¥¼ í•´ê²°í•˜ê³  ë²„ì „ ë²”ìœ„ë¥¼ í†µí•´ ì„¤ì¹˜ëœ ì „ì´ì  ì¢…ì†ì„±ìœ¼ë¡œ ì¸í•´ ì œì–´í•  ìˆ˜ ì—†ëŠ” ì£¼ìš” ë³€ê²½ ì‚¬í•­ì´ ìˆëŠ” ê²½ìš° Node.jsì˜ ë¹Œë“œ ë˜ëŠ” ì‹¤í–‰ì´ ì‹¤íŒ¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â„¹ï¸ **Details**

shrinkwrapì„ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. ì•„ë©˜

> í•´ë‹¹ ë‚´ìš©ì€ nodejs í”„ë¡œì íŠ¸ì˜ íŒ¨í‚¤ì§€ ì˜ì¡´ì„±ì˜ ê´€ë ¨ëœ ë‚´ìš©ì´ë‹¤.
>
> shrinkwrap.jsonëŠ” package-lock.jsonê³¼ëŠ” ë‹¤ë¥´ê²Œ ê°•ì œì„±ì´ ë”°ë¥´ëŠ”ë°,
>
> ì´ëŠ” ìµœì¢… ì‚¬ìš©ìê°€ ì¢…ì†ì„± ì—…ë°ì´íŠ¸ë¥¼ í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì´ë©°,
>
> ë‹¤ë¥¸ ì˜ì¡´ì„± ë¬¸ì œë¥¼ ì•¼ê¸°í•  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨ëœë‹¤. (os, nodejs version, app projectë‚´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¢…ì†ì„± ë“±)
>
> ionic-cli ì—ì„œë„ lockfilesì€ appsì—ì„œë§Œ ìƒì„±,ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì²˜ë¦¬í•˜ê³ ìˆë‹¤.

### 2.3 Cleanup configuration files

ì„¤ì • íŒŒì¼ ì •ë¦¬

âœ… **Do**: CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì œê±°ë˜ë©´ ì„¤ì • íŒŒì¼ì„ ì •ë¦¬í•©ë‹ˆë‹¤. ì„ íƒì ìœ¼ë¡œ CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë” ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ìœ„í•´ ë‹¤ìŒ ì„¤ì¹˜ ì‹œ ì¬ì´ˆê¸°í™” ë‹¨ê³„ë¥¼ ê±´ë„ˆë›°ë„ë¡ ì„¤ì • íŒŒì¼ì„ ìœ ì§€í•˜ë¼ëŠ” ë©”ì‹œì§€ë¥¼ ì‚¬ìš©ìì—ê²Œ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

âŒ **Otherwise**: ì‚¬ìš©ìì˜ íŒŒì¼ ì‹œìŠ¤í…œì—ëŠ” ê³ ë¦½ëœ ì„¤ì • íŒŒì¼ í˜•íƒœì˜ ì”ì—¬ë¬¼ê³¼ CLI toolì´ ì„¤ì¹˜ë  ë•Œ ë„ì…í•œ ì‹ë³„ ê°€ëŠ¥í•œ ë°ì´í„°ê°€ í¬í•¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â„¹ï¸ **Details**
ìƒíƒœ ì €ì¥ ë°ì´í„° ë‚´ìš©ì—ì„œ ì–¸ê¸‰í•œ ê²ƒì²˜ëŸ¼ CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì„¤ì • íŒŒì¼ì„ ì €ì¥í•˜ëŠ” ê²ƒê³¼ ê°™ì´ ì˜êµ¬ ìŠ¤í† ë¦¬ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì„¤ì¹˜ ì œê±° ì‹œ ì„¤ì • íŒŒì¼ì„ ì œê±°í•´ì•¼ í•©ë‹ˆë‹¤.

npm package managerê°€ npm v7ë¶€í„° ì œê±° hookë¥¼ ì œê³µí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— í”„ë¡œê·¸ë¨ì—ëŠ” ì¸ìˆ˜ (ì˜ˆ --uninstall: ) ë˜ëŠ” ë³„ë„ì˜ ì‚¬ìš©ì ì…ë ¥ì„ í†µí•´ ì œê±°í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì´ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤ .

> ğŸ‘ Tip
>
> ì„ íƒì ìœ¼ë¡œ npm ë²„ì „ì´ 6 ì´í•˜ì¸ ê²½ìš° ìë™ìœ¼ë¡œ í˜¸ì¶œë˜ëŠ” `pre` ë° `post` uninstall ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ [ì €ì¥ì†Œ](https://github.com/m-sureshraj/jenni/blob/master/src/scripts/pre-uninstall.js) ì—ì„œ ì‘ì—… ì˜ˆì œë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 3 Interoperability

ìƒí˜¸ ìš´ìš©ì„±

ì´ ì„¹ì…˜ì—ì„œëŠ” Node.js CLIë¥¼ ë‹¤ë¥¸ command ë„êµ¬ì™€ ì›í™œí•˜ê²Œ í†µí•©í•˜ê³  CLIê°€ ì‘ë™í•˜ëŠ” ë° ìì—°ìŠ¤ëŸ¬ìš´ ê·œì¹™ì„ ë”°ë¥´ëŠ” ê²ƒê³¼ ê´€ë ¨ëœ ëª¨ë²” ì‚¬ë¡€ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.

ì´ ì„¹ì…˜ì€ ë‹¤ìŒê³¼ ê°™ì€ ì§ˆë¬¸ì— ë‹µí•©ë‹ˆë‹¤.

- ì‰¬ìš´ êµ¬ë¬¸ ë¶„ì„ì„ ìœ„í•´ ì´ CLIì˜ ì¶œë ¥ì„ ë‚´ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆê¹Œ?
- ì´ CLIì˜ ì¶œë ¥ì„ ë‹¤ë¥¸ command ë„êµ¬ì˜ ì…ë ¥ìœ¼ë¡œ íŒŒì´í”„í•  ìˆ˜ ìˆìŠµë‹ˆê¹Œ?
- ë‹¤ë¥¸ ë„êµ¬ì˜ ê²°ê³¼ë¥¼ ì´ CLIë¡œ íŒŒì´í”„í•  ìˆ˜ ìˆìŠµë‹ˆê¹Œ?

### 3.1 Accept input as STDIN

STDIN ì…ë ¥ ì§€ì›í•  ê²ƒ

âœ… **Do**: ë°ì´í„° ì‘ì—…ì´ ì˜ˆìƒë˜ëŠ” command ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ê²½ìš° ì‚¬ìš©ìê°€ ë°ì´í„°ë¥¼ í‘œì¤€ ì…ë ¥(STDIN)ìœ¼ë¡œ ì‰½ê²Œ íŒŒì´í”„í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

âŒ **Otherwise**:ë‹¤ë¥¸ command ì‘ìš© í”„ë¡œê·¸ë¨ì€ CLIì— ëŒ€í•œ ì…ë ¥ìœ¼ë¡œ ì§ì ‘ ê²°ê³¼ë¥¼ ì œê³µí•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ì¼ë°˜ì ì¸ UNIX í•œ ì¤„ì„ ë°©ì§€í•©ë‹ˆë‹¤.

```bash
$ curl -s "https://api.example.com/data.json" | your_node_cli
```

â„¹ï¸ **Details**

command ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë°ì´í„°ì™€ í•¨ê»˜ ì‘ë™í•˜ëŠ” ê²½ìš°,
ì¼ë°˜ì ìœ¼ë¡œ `--file <file.json>` command ì¸ìˆ˜ë¡œ ì§€ì •ë˜ëŠ” JSON íŒŒì¼ì—ì„œ ì¼ì¢…ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ëª…ë ¹ íŒŒì´í”„ì—ì„œ ì…ë ¥ì„ ë°›ëŠ” ë°©ë²•ì— ëŒ€í•œ readline ëª¨ë“ˆ**ì˜ ê³µì‹ Node.js API ë¬¸ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ì˜ˆëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```js
const readline = require("readline");

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
});

rl.question("What do you think of Node.js? ", (answer) => {
  // TODO: Log the answer in a database
  console.log(`Thank you for your valuable feedback: ${answer}`);

  rl.close();
});
```

ê·¸ëŸ° ë‹¤ìŒ ìœ„ì˜ Node.js ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì…ë ¥ì„ íŒŒì´í”„í•©ë‹ˆë‹¤.

```bash
echo "Node.js is amazing" | node cli.js
```

### 3.2 Enable structured output

êµ¬ì¡°í™”ëœ ì¶œë ¥ë¥¼ ì§€ì›í•  ê²ƒ

âœ… **Do**: ì•± ê²°ê³¼ì˜ êµ¬ì¡°í™”ëœ ì¶œë ¥ì„ í—ˆìš©í•˜ëŠ” í”Œë˜ê·¸ë¥¼ í™œì„±í™”í•©ë‹ˆë‹¤(ê·¸ëŸ¬í•œ ê²°ê³¼ê°€ ìˆëŠ” ê²½ìš°). ë°ì´í„°ë¥¼ êµ¬ë¬¸ ë¶„ì„í•˜ê³  ì‰½ê²Œ ì¡°ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

âŒ **Otherwise**: CLI ì‚¬ìš©ìëŠ” CLIì—ì„œ ì œê³µí•˜ëŠ” ì¶œë ¥ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ê¸° ìœ„í•´ ë³µì¡í•œ ì •ê·œì‹ êµ¬ë¬¸ ë¶„ì„ ë° ì¼ì¹˜ ê¸°ìˆ ì„ ì ìš©í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â„¹ï¸ **Details**

command ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ìš©ìê°€ ë°ì´í„°ë¥¼ êµ¬ë¬¸ ë¶„ì„í•˜ê³  ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì›¹ ëŒ€ì‹œë³´ë“œ ë˜ëŠ” ì´ë©”ì¼ ì•Œë¦¼ì„ ì œê³µí•˜ëŠ” ê²ƒê³¼ ê°™ì€ ë‹¤ë¥¸ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë° ì¢…ì¢… ìœ ìš©í•©ë‹ˆë‹¤.

command ì¶œë ¥ì—ì„œ â€‹â€‹ê´€ì‹¬ ìˆëŠ” ë°ì´í„°ë¥¼ ì‰½ê²Œ ì¶”ì¶œí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ CLI ì‚¬ìš©ìì—ê²Œ ì¹œìˆ™í•œ í™˜ê²½ì„ ì œê³µí•©ë‹ˆë‹¤.

### 3.3 Cross-platform etiquette

í¬ë¡œìŠ¤ í”Œë«í¼ ì—í‹°ì¼“

âœ… **Do**: CLIê°€ ì—¬ëŸ¬ í”Œë«í¼ì—ì„œ ì‘ë™í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” ê²½ìš° ê´€ë ¨ í”„ë¡œê·¸ë˜ë° êµ¬ì¡°ë¥¼ í™œìš©í•˜ëŠ” ê°œë°œìì™€ í•¨ê»˜ ëª…ë ¹ ì…¸ ë° íŒŒì¼ ì‹œìŠ¤í…œê³¼ ê°™ì€ êµ¬ì„± ìš”ì†Œì˜ ì˜ë¯¸ ì²´ê³„ì— ì ì ˆí•œ ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼ í•©ë‹ˆë‹¤.

âŒ **Otherwise**: ì½”ë“œì— ê¸°ëŠ¥ì  ì°¨ì´ê°€ ì—†ë”ë¼ë„ ì˜ëª»ëœ ê²½ë¡œ êµ¬ë¶„ ë¬¸ìì™€ ê°™ì€ ìš”ì¸ìœ¼ë¡œ ì¸í•´ ë‹¤ë¥¸ ìš´ì˜ ì²´ì œì—ì„œ CLIê°€ ì¤‘ë‹¨ë©ë‹ˆë‹¤.

â„¹ï¸ **Details**

í”„ë¡œê·¸ë¨ì˜ ê´€ì ì—ì„œ ê¸°ëŠ¥ì´ ì œê±°ë˜ì§€ ì•Šê³  ë‹¤ë¥¸ ìš´ì˜ ì²´ì œì—ì„œ ì˜ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ì§€ë§Œ ì¼ë¶€ ëˆ„ë½ëœ ë¬¸ë²•ì´ê°€ í”„ë¡œê·¸ë¨ì„ ì‘ë™í•˜ì§€ ì•Šê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. êµì°¨ í”Œë«í¼ ì—í‹°ì¼“ë¥¼ ì¡´ì¤‘í•´ì•¼ í•˜ëŠ” ëª‡ ê°€ì§€ ì‚¬ë¡€ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

#### Wrongly spawning a command

Node.js í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ê°€ ìˆìŠµë‹ˆë‹¤.

`program.js`

```bash
#!/usr/bin/env node

// the rest of your app code
```

ì´ê²ƒì€ ì‘ë™í•©ë‹ˆë‹¤.

```js
const cliExecPath = "program.js";
const process = childProcess.spawn(cliExecPath, []);
```

ê°œì„ ëœ ì²˜ë¦¬ì…ë‹ˆë‹¤.

```js
const cliExecPath = "program.js";
const process = childProcess.spawn("node", [cliExecPath]);
```

ì™œ ë” ë‚˜ì€ê°€ìš”? ì†ŒìŠ¤ `program.js`ì½”ë“œëŠ” Unixì™€ ìœ ì‚¬í•œ Shebang(ì…”ë±…) í‘œê¸°ë²•ìœ¼ë¡œ ì‹œì‘í•˜ì§€ë§Œ Shebangì´ í¬ë¡œìŠ¤ í”Œë«í¼ í‘œì¤€ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— WindowsëŠ” ì´ê²ƒì„ í•´ì„í•˜ëŠ” ë°©ë²•ì„ ëª¨ë¦…ë‹ˆë‹¤.

ì´ê²ƒì€ `package.json` scriptsì—ë„ í•´ë‹¹ë©ë‹ˆë‹¤.
ë‚˜ìœ ìŠµê´€ì˜ npm run script:

```json
"scripts": {
  "postinstall": "myInstall.js"
}
```

ì´ëŠ” `myInstalls.js`ì˜ Shebangì´ Windowsê°€ `node` interpreterë¡œ ì´ë¥¼ ì‹¤í–‰í•˜ëŠ”ê²ƒì— ë„ì›€ì´ ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ëŒ€ì‹  ë‹¤ìŒ ëª¨ë²” ì‚¬ë¡€ë¥¼ ë”°ë¥´ì‹­ì‹œì˜¤.

```json
"scripts": {
  "postinstall": "node myInstall.js"
}
```

#### Shell interpreters vary

ì‰˜ ì¸í„°í”„ë¦¬í„°ëŠ” ë‹¤ì–‘í•©ë‹ˆë‹¤.

ëª¨ë“  ë¬¸ìê°€ ë‹¤ë¥¸ ì‰˜ ì¸í„°í”„ë¦¬í„°ì—ì„œ ë™ì¼í•˜ê²Œ ì·¨ê¸‰ë˜ëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ Windows ëª…ë ¹ í”„ë¡¬í”„íŠ¸ëŠ” bash shellì—ì„œ ì˜ˆìƒë˜ëŠ” ê²ƒê³¼ ê°™ì´ ì‘ì€ë”°ì˜´í‘œ(')ë¥¼ í°ë”°ì˜´í‘œ(")ì™€ ë™ì¼í•˜ê²Œ ì·¨ê¸‰í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì‘ì€ë”°ì˜´í‘œ ì•ˆì˜ ì „ì²´ ë¬¸ìì—´ì´ ê°™ì€ ë¬¸ìì—´ì— ì†í•œë‹¤ëŠ” ê²ƒì„ ì¸ì‹í•˜ì§€ ëª»í•©ë‹ˆë‹¤.ì´ëŠ” ì˜¤ë¥˜ë¥¼ ì•¼ê¸°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Windows Node í™˜ê²½ì—ì„œ Windows command promptë¥¼ ì‚¬ìš©í• ë–„ ì‹¤íŒ¨ ì¼€ì´ìŠ¤ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

package.json

```json
"scripts": {
  "format": "prettier-standard '\*_/_.js'",
  ...
}
```

ì´ npm run scriptê°€ ì‹¤ì œë¡œ Windows, macOS ë° Linux ê°„ì— êµì°¨ í”Œë«í¼ì—ì„œì˜ ë™ì‘í•˜ê¸°ìœ„í•´ ìˆ˜ì •í•˜ë ¤ë©´ ë‹¤ìŒì„ ìˆ˜í–‰í•˜ì‹­ì‹œì˜¤.

package.json

```json
"scripts": {
  "format": "prettier-standard \"\*_/_.js\"",
  ...
}
```

ì´ ì˜ˆì—ì„œëŠ” í°ë”°ì˜´í‘œë¥¼ ì‚¬ìš©í•˜ê³  JSON í‘œê¸°ë²•ìœ¼ë¡œ ì´ìŠ¤ì¼€ì´í”„í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.

#### Avoid concatenating paths

ê²½ë¡œ ì—°ê²° ë°©ì§€

ê²½ë¡œëŠ” í”Œë«í¼ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì„¤ì •ë©ë‹ˆë‹¤. ë¬¸ìì—´ì„ ì—°ê²°í•˜ì—¬ ìˆ˜ë™ìœ¼ë¡œ ë¹Œë“œí•˜ë©´ ì„œë¡œ ë‹¤ë¥¸ í”Œë«í¼ ê°„ì— ìƒí˜¸ ìš´ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

ë‹¤ìŒê³¼ ê°™ì€ ë‚˜ìœ ìŠµê´€ì˜ ì˜ˆë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

```js
const myPath = `${__dirname}/../bin/myBin.js`;
```

ì˜ˆë¥¼ ë“¤ì–´ Windowsì—ì„œ ë°±ìŠ¬ë˜ì‹œê°€ ì‚¬ìš©ë˜ëŠ” ê²½ë¡œ êµ¬ë¶„ ê¸°í˜¸ëŠ” ìŠ¬ë˜ì‹œë¼ê³  ê°€ì •í•©ë‹ˆë‹¤.

íŒŒì¼ ì‹œìŠ¤í…œ ê²½ë¡œë¥¼ ìˆ˜ë™ìœ¼ë¡œ ë¹Œë“œí•˜ëŠ” ëŒ€ì‹  Node.jsì˜ ìì²´ path ëª¨ë“ˆì— ë”°ë¼ ë‹¤ìŒì„ ìˆ˜í–‰í•˜ì‹­ì‹œì˜¤.

```js
const myPath = path.join(__dirname, "..", "bin", "myBin.js");
```

#### Avoid chaining commands with semicolons

ì„¸ë¯¸ì½œë¡ (;)ìœ¼ë¡œ commandì„ ì—°ê²°í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.

Linux shellì€ ì„¸ë¯¸ì½œë¡ ì„ ì§€ì›í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ëª…ë ¹ì„ ì—°ê²°í•˜ëŠ” ê²ƒìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆìŠµë‹ˆë‹¤.(ì˜ˆ: `cd /tmp; ls`) ê·¸ëŸ¬ë‚˜ Windowsì—ì„œ ë™ì¼í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©´ ì‹¤íŒ¨í•©ë‹ˆë‹¤.

ë‹¤ìŒì„ ìˆ˜í–‰í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.

```js
const process = childProcess.exec(`${cliExecPath}; ${cliExecPath2}`);
```

ëŒ€ì‹  ì´ì¤‘ ì•°í¼ìƒŒë“œ ë˜ëŠ” ì´ì¤‘ íŒŒì´í”„ í‘œê¸°ë²•ì„ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.

```js
const process = childProcess.exec(`${cliExecPath} || ${cliExecPath2}`);
```

### 3.4 Support configuration precedence

configuration ìš°ì„ ìˆœìœ„ ì§€ì›

âœ… **Do**: ìš°ì„  ìˆœìœ„ì— ë”°ë¼ ì—¬ëŸ¬ ì†ŒìŠ¤ì—ì„œ êµ¬ì„±ì„ ì–»ì„ ìˆ˜ ìˆë„ë¡ í—ˆìš©í•©ë‹ˆë‹¤. ì»¤ë§¨ë“œ ì¸ìˆ˜ê°€ ê°€ì¥ ë†’ì€ ìš°ì„  ìˆœìœ„ë¥¼ ê°€ì§€ë©° ê·¸ ë‹¤ìŒì´ ì…¸ ë³€ìˆ˜, ë‹¤ë¥¸ ìˆ˜ì¤€ì˜ êµ¬ì„± ìˆœì…ë‹ˆë‹¤.

âŒ **Otherwise**: ì‚¬ìš©ìëŠ” ì´ëŸ¬í•œ ìš°ì„ ìˆœìœ„ë¥¼ ì¬ì •ì˜í•˜ëŠ” ê²ƒì— ë¶€ì •ì ì…ë‹ˆë‹¤.

â„¹ï¸ **Details**
í˜¸ì¶œëœ CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë™ì‘ì„ ìˆ˜ì •í•˜ê¸° ìœ„í•´ ë§ì€ ë„êµ¬ ì²´ì¸ì—ì„œ ì¼ë°˜ì ì¸ ë°©ë²•ì´ ë  ê²ƒì´ë©°, í™˜ê²½ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ configuration settingì„ ê°ì§€í•˜ê³  ì§€ì›í•©ë‹ˆë‹¤.

ì»¤ë§¨ë“œ í”„ë¡œê·¸ë¨ì˜ configuration ìš°ì„  ìˆœìœ„ëŠ” ë‹¤ìŒì„ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤.

- ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í˜¸ì¶œë  ë•Œ ì§€ì •ëœ ì»¤ë§¨ë“œ ì¸ìˆ˜ì…ë‹ˆë‹¤.
- ìƒì„±ëœ shellì˜ í™˜ê²½ ë³€ìˆ˜ ë° ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°íƒ€ í™˜ê²½ ë³€ìˆ˜.
- í”„ë¡œì íŠ¸ ë²”ìœ„ êµ¬ì„±, ì˜ˆ: ë¡œì»¬ ë””ë ‰í„°ë¦¬ `.git/config`íŒŒì¼
- ì‚¬ìš©ì ë²”ìœ„ êµ¬ì„±, ì˜ˆ: ì‚¬ìš©ìì˜ í™ˆ ë””ë ‰í† ë¦¬ êµ¬ì„± íŒŒì¼:` ~/.gitconfig` ë˜ëŠ” ì´ì— ìƒì‘í•˜ëŠ” XDG: `~/.config/git/config`
- ì‹œìŠ¤í…œ ë²”ìœ„ êµ¬ì„±, ì˜ˆ: `/etc/gitconfig`.

Reference projects:

- cosmiconfig

## 4 Accessibility

ì ‘ê·¼ì„±

ì´ ì„¹ì…˜ì—ì„œëŠ” ì‚¬ìš©ìê°€ Node.js CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“œëŠ” ê²ƒê³¼ ê´€ë ¨ëœ ëª¨ë²” ì‚¬ë¡€ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤. ê´€ë¦¬ìê°€ ì–´í”Œë¦¬ì¼€ì´ì…˜ í™˜ê²½ì— ëŒ€í•œ ê³ ë ¤í•˜ì§€ ì•Šì•˜ë”ë¼ë„ ë§ì´ì£ .

### 4.1 Containerize the CLI

CLI ì»¨í…Œì´ë„ˆí™”

âœ… **Do**: Node.js í™˜ê²½ì´ ì—†ëŠ” ì‚¬ìš©ìê°€ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ CLIìš© ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê³  Docker í—ˆë¸Œì™€ ê°™ì€ ê³µìš© ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ê²Œì‹œí•©ë‹ˆë‹¤.

âŒ **Otherwise**: Node.js í™˜ê²½ì´ ì—†ëŠ” ì‚¬ìš©ìëŠ” CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°€ì§€ npmê±°ë‚˜ npxì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

â„¹ï¸ **Details**

npm ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ Node.js CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì„¤ì¹˜í•˜ëŠ” ê²ƒì€ ì¼ë°˜ì ìœ¼ë¡œ Node.js native toolchain(`npm` or `npx` ì™€ ê°™ì€)ì„ ì‚¬ìš©í•˜ì—¬ ìˆ˜í–‰ë©ë‹ˆë‹¤.
ì´ëŠ” JavaScript ë° Node.js ê°œë°œìì—ê²Œ ê³µí†µì ì´ë©° ì„¤ì¹˜ ì§€ì¹¨ ë‚´ì—ì„œ ì°¸ì¡°ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ JavaScriptì— ëŒ€í•œ ì¹œìˆ™ì„± ë˜ëŠ” toolchain ê°€ìš©ì„±ì— ê´€ê³„ì—†ì´ ì¼ë°˜ ëŒ€ì¤‘ì´ ì‚¬ìš©í•˜ëŠ” CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ” ê²½ìš° npm ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ ì„¤ì¹˜ í˜•ì‹ìœ¼ë¡œë§Œ CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•œë‹¤ë©´ ì œì•½ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤. CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œ ë˜ëŠ” CI í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ë ¤ëŠ” ê²½ìš° Node.js ê´€ë ¨ toolchainì„ ì„¤ì¹˜í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.

ì‹¤í–‰ íŒŒì¼ì„ íŒ¨í‚¤ì§•í•˜ê³  ë°°í¬í•˜ëŠ” ë°©ë²•ì—ëŠ” ì—¬ëŸ¬ ê°€ì§€ê°€ ìˆìœ¼ë©° CLI ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ í•¨ê»˜ ë¯¸ë¦¬ ë²ˆë“¤ë¡œ ì œê³µë˜ëŠ” Docker ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰ íŒŒì¼ì„ ì»¨í…Œì´ë„ˆí™”í•˜ëŠ” ê²ƒì€ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ëŒ€ì•ˆì´ë©°, ì¢…ì†ì„±ì´ ì—†ìŠµë‹ˆë‹¤(Docker í™˜ê²½ì´ í•„ìš”í•œ ê²ƒ ì œì™¸).

4.2 Graceful degradation

ì ì§„ì  ì €í•˜

âœ… **Do**: ì§€ì›ë˜ì§€ ì•ŠëŠ” í™˜ê²½ì—ì„œ ë‹¤ì±„ë¡­ê³  ì• ë‹ˆë©”ì´ì…˜ì´ í’ë¶€í•œ ë””ìŠ¤í”Œë ˆì´ë¥¼ ì„ íƒ í•´ì œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©ìì—ê²Œ ì œê³µí•©ë‹ˆë‹¤.
ìƒí˜¸ ì‘ìš©ì„ ê±´ë„ˆë›°ê³  í˜•ì‹ì´ ì§€ì •ëœ ì¶œë ¥ì„ JSON í˜•ì‹ìœ¼ë¡œ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

âŒ **Otherwise**: ë‹¤ì–‘í•œ ì¶œë ¥ì„ ì œê³µí•˜ê³  í”„ë¡¬í”„íŠ¸ ë° ê¸°íƒ€ ë””ìŠ¤í”Œë ˆì´ê°€ í’ë¶€í•œ ì¸í„°í˜ì´ìŠ¤ì™€ ê°™ì€ í„°ë¯¸ë„ ëŒ€í™”í˜•ì„ ì‚¬ìš©í•˜ë©´ ì§€ì›ë˜ëŠ” í„°ë¯¸ë„ì´ ì—†ëŠ” ì‚¬ìš©ìì˜ ìµœì¢… ì‚¬ìš©ì ê²½í—˜ì´ í¬ê²Œ ì €í•˜ë˜ê³  CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â„¹ï¸ **Details**

í™”ë ¤í•œ ì¶œë ¥ í˜•íƒœë¡œ í’ë¶€í•œ ë‹¨ë§ê¸° ë””ìŠ¤í”Œë ˆì´ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ì§€ë§Œ, ascii ì½”ë“œë“¤, ë˜ëŠ” í„°ë¯¸ë„ì˜ ì• ë‹ˆë©”ì´ì…˜ê³¼ ê°•ë ¥í•œ í”„ë¡¬í”„íŠ¸ ë©”ì»¤ë‹ˆì¦˜ê³¼ ê°™ì€. ì´ëŠ” ì§€ì›ë˜ëŠ” í„°ë¯¸ë„ì´ ìˆëŠ” ì‚¬ìš©ìì—ê²ŒëŠ” í›Œë¥­í•œ ì‚¬ìš©ì ê²½í—˜ì— ê¸°ì—¬í•  ìˆ˜ ìˆì§€ë§Œ, ê·¸ë ‡ì§€ ì•Šì€ ì‚¬ìš©ìì—ê²ŒëŠ” í…ìŠ¤íŠ¸ê°€ ê¹¨ì ¸ í‘œì‹œë˜ê±°ë‚˜ ì™„ì „íˆ ì‘ë™í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì§€ì›ë˜ì§€ ì•ŠëŠ” í„°ë¯¸ë„ì„ ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ìê°€ Node.js CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ë ¤ë©´ ë‹¤ìŒ ë‚´ìš©ì„ ê³ ë ¤í•´ë³´ì‹­ì‹œì˜¤.

- í„°ë¯¸ë„ ê¸°ëŠ¥ì„ ìë™ ê°ì§€í•˜ê³  ëŸ°íƒ€ì„ ë™ì•ˆ CLI ìƒí˜¸ ì‘ìš©ì„ ì €í•˜ì‹œí‚¬ì§€ ì—¬ë¶€ë¥¼ í‰ê°€í•©ë‹ˆë‹¤.
- `--json`ì›ì‹œ ë°ì´í„°ë¥¼ ê°•ì œë¡œ ì¶œë ¥í•˜ë„ë¡ command ì¸ìˆ˜ë¥¼ ì œê³µí•˜ëŠ” ê²ƒê³¼ ê°™ì´ ì‚¬ìš©ìê°€ ì ì§„ì  ì €í•˜ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì „í™˜í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì„ ì œê³µí•©ë‹ˆë‹¤ .

> ğŸ‘ Tip
>
> Supporting graceful degradation such as JSON output isn't only useful for
> end-users and their unuspported terminals, but is also valuable for running
> in continuous integration environments, as well as enabling users
> the ability to connect your program's output with other program's input or
> export data if needed.

### 4.3 Node.js versions compatibility

Node.js ë²„ì „ í˜¸í™˜ì„±

âœ… **Do**: ì§€ì› ë° ìœ ì§€ ê´€ë¦¬ë˜ëŠ” Node.js ë²„ì „ì„ ëŒ€ìƒìœ¼ë¡œ í•©ë‹ˆë‹¤.

âŒ **Otherwise**: ì´ì „ ë° ì§€ì›ë˜ì§€ ì•ŠëŠ” Node.js ë²„ì „ê³¼ì˜ í˜¸í™˜ì„±ì„ ìœ ì§€í•˜ë ¤ëŠ” ì½”ë“œ ê¸°ë°˜ì€ ìœ ì§€ ê´€ë¦¬ê°€ ì–´ë ¤ìš°ë©° ì–¸ì–´ ë° ëŸ°íƒ€ì„ ê¸°ëŠ¥ì˜ ì´ì ì„ ìƒê²Œ ë©ë‹ˆë‹¤.

â„¹ï¸ **Details**

ë•Œë¡œëŠ” ìƒˆë¡œìš´ ECAMScript ê¸°ëŠ¥ì´ ì—†ëŠ” ì´ì „ Node.js ë²„ì „ì„ ì˜ˆì™¸ì ì¸ ëŒ€ìƒìœ¼ë¡œ ì§€ì •í•´ì•¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ëŒ€ë¶€ë¶„ DevOps ë˜ëŠ” ITì— ë§ì¶°ì§„ Node.js CLIë¥¼ êµ¬ì¶•í•˜ëŠ” ê²½ìš°ì—ëŠ” ìµœì‹  ëŸ°íƒ€ì„ì´ í¬í•¨ëœ ì´ìƒì ì¸ Node.js í™˜ê²½ì´ ì—†ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì°¸ê³ ë¡œ Debian Stretch(oldstable)ëŠ” Node.js 8.11.1 ê³¼ í•¨ê»˜ ì œê³µë©ë‹ˆë‹¤ .

ì§€ì›ì´ ëë‚œ Node.js 8, 6 ë˜ëŠ” 4ì™€ ê°™ì€ ì´ì „ ë²„ì „ì˜ Node.jsë¥¼ ëŒ€ìƒìœ¼ë¡œ í•´ì•¼ í•˜ëŠ” ê²½ìš°,V8 JavaScript ì—”ì§„ ë° Node.js ëŸ°íƒ€ì„ì€ í•´ë‹¹ ë²„ì „ê³¼ í•¨ê»˜ ì œê³µë˜ê¸° ë•Œë¬¸ì— Babelì„ ì‚¬ìš©í•œ ì½”ë“œ ìƒì„±ì„ í†µí•´ ì†ŒìŠ¤ì½”ë“œë¥¼ ì§€ì› í•  ìˆ˜ìˆë„ë¡ í•´ì•¼í•©ë‹ˆë‹¤.

ë˜ ë‹¤ë¥¸ í•´ê²° ë°©ë²•ì€ ì»¨í…Œì´ë„ˆí™”ëœ ë²„ì „ì˜ CLIë¥¼ ì œê³µí•˜ì—¬ ì´ì „ ëŒ€ìƒì„ ë°©ì§€í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì„¹ì…˜ (4.1) CLI ì»¨í…Œì´ë„ˆí™”ë¥¼ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤ .

ìœ ì§€ ê´€ë¦¬ë˜ì§€ ì•Šì€ ë²„ì „ ë˜ëŠ” ì§€ì›ì´ ëë‚œ Node.js ë²„ì „ê³¼ ì¼ì¹˜í•˜ëŠ” ì´ì „ ECMAScript ì–¸ì–´ ì‚¬ì–‘ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í”„ë¡œê·¸ë¨ ì½”ë“œë¥¼ ë°”ë³´ë¡œ ë§Œë“¤ì§€ ë§ˆì‹­ì‹œì˜¤. ì½”ë“œ ìœ ì§€ ê´€ë¦¬ ë¬¸ì œë§Œ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì§€ì›ë˜ì§€ ì•ŠëŠ” í™˜ê²½ì—ì„œ CLIê°€ í˜¸ì¶œë˜ë©´ ê°ì§€ë¥¼ ì‹œë„í•˜ê³  ì„¤ëª… ì˜¤ë¥˜ ë©”ì‹œì§€ì™€ í•¨ê»˜ ì¢…ë£Œí•˜ì—¬ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•´ì•¼í•©ë‹ˆë‹¤.

docklyì— ëŒ€í•œ ì´ [ì˜ˆì œ](https://github.com/lirantal/dockly/blob/42d8c09631bc5348f108a50c3ce9601851fb760b/index.js#L25)ë¥¼ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤ .

### 4.4 Shebang autodetect the Node.js runtime

Shebangì´ Node.js ëŸ°íƒ€ì„ ìë™ ê°ì§€

âœ… **Do**:ëŸ°íƒ€ì„ í™˜ê²½ì„ ê¸°ë°˜ìœ¼ë¡œ Node.js ëŸ°íƒ€ì„ì„ ìë™ìœ¼ë¡œ ì°¾ëŠ” Shebang ì„ ì–¸ì—ì„œ ì„¤ì¹˜ì— ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ” ì°¸ì¡°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. `#!/usr/bin/env node` ì²˜ëŸ¼

âŒ **Otherwise**: `#!/usr/local/bin/node`ì™€ ê°™ì´ í•˜ë“œ ì½”ë”©ëœ Node.js ëŸ°íƒ€ì„ ìœ„ì¹˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ localí•œ í™˜ê²½ì—ë§Œ í•´ë‹¹ë˜ë©° Node.jsì˜ ìœ„ì¹˜ê°€ ë‹¤ë¥¸ ë‹¤ë¥¸ í™˜ê²½ì—ì„œëŠ” Node.js CLIê°€ ì‘ë™í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â„¹ï¸ **Details**

entry pointë¥¼ `node cli.js`ë¡œ ì‹¤í–‰í•˜ê±°ë‚˜ Node.js CLIë¥¼ ì‰½ê²Œ ê°œë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜ëŠ” `#!/usr/local/bin/node`ë¥¼ cli.js íŒŒì¼ì˜ ë§¨ ìœ„ì— ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ê·¸ëŸ¬ë‚˜ í›„ìëŠ” ë…¸ë“œ ì‹¤í–‰ íŒŒì¼ì˜ ìœ„ì¹˜ê°€ ë‹¤ë¥¸ ì‚¬ìš©ìì˜ í™˜ê²½ì— ëŒ€í•´ ë³´ì¥ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì—¬ì „íˆ ê²°í•¨ì´ ìˆëŠ” ì ‘ê·¼ ë°©ì‹ì…ë‹ˆë‹¤.

`#!/usr/bin/env node`ë¥¼ ëª¨ë²” ì‚¬ë¡€ë¡œ ì§€ì •í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
Node.js ëŸ°íƒ€ì„ì´ `nodejs` ë“±ì´ ì•„ë‹Œ `node`ë¡œ ì°¸ì¡°ëœ ë‹¤ëŠ” ê°€ì •í•˜ì— ì…ë‹ˆë‹¤.

## 5 Testing

### 5.1 Put no trust in locales

localeì„ ì‹ ë¢°í•˜ì§€ ë§ê²ƒ

âœ… **Do**: í…ŒìŠ¤íŠ¸ëŠ” localeì´ ê°ê¸° ë‹¤ë¥¸ ì‹œìŠ¤í…œì—ì„œ ì‹¤í–‰ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¶œë ¥ í…ìŠ¤íŠ¸ê°€ ì£¼ì¥í•˜ëŠ” ë¬¸ìì—´ê³¼ ë™ì¼í•˜ë‹¤ê³  ê²€ì¦í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.

âŒ **Otherwise**: ê°œë°œìëŠ” ë‹¤ë¥¸ localeì˜ ì‹œìŠ¤í…œì—ì„œ í…ŒìŠ¤íŠ¸í•  ë•Œ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ë¥¼ ë§ì´í•˜ê²Œë©ë‹ˆë‹¤.

â„¹ï¸ **Details**

CLIë¥¼ ì‹¤í–‰í•˜ê³  ì¶œë ¥ì„ êµ¬ë¬¸ ë¶„ì„í•˜ì—¬ CLIë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸°ë¡œ ì„ íƒí•˜ë©´ CLIê°€ ì¸ìˆ˜ ì—†ì´ ì‹¤í–‰ë  ë•Œ ì˜ˆì œë¥¼ ì ì ˆí•˜ê²Œ ì œê³µí•˜ëŠ” ê²ƒê³¼ ê°™ì´ íŠ¹ì • ê¸°ëŠ¥ì´ ì¶œë ¥ì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ grepì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆ:

```js
const output = execSync(cli);
expect(output).to.contain("Examples:"));
```

ì˜ì–´ ê¸°ë°˜ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ì§€ ì•ŠëŠ” ê²½ìš°, ì‹œìŠ¤í…œ ê¸°ë³¸ localeì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ì—¬ localeì„ ë³€í™˜ ë˜ëŠ” libraryë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” ìœ„ì˜ ì˜ˆì œëŠ” ì‹¤íŒ¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 6 Errors

ì´ ì„¹ì…˜ì—ì„œëŠ” Node.js CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ê³  ì‚¬ìš©í•˜ê³  ì‹¶ì§€ë§Œ ê°œë°œìê°€ ì„¤ê³„í•œ ì´ìƒì ì¸ í™˜ê²½ì´ ì—†ëŠ” ì‚¬ìš©ìê°€ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒê³¼ ê´€ë ¨ëœ ëª¨ë²” ì‚¬ë¡€ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.

ì´ ì„¹ì…˜ì— ì œì‹œëœ ëª¨ë²” ì‚¬ë¡€ì˜ ëª©í‘œëŠ” ì‚¬ìš©ìê°€ ì˜¤ë¥˜ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ë¬¸ì„œë‚˜ ì†ŒìŠ¤ ì½”ë“œë¥¼ ì°¸ì¡°í•  í•„ìš” ì—†ì´ ë¹ ë¥´ê³  ì‰½ê²Œ ì˜¤ë¥˜ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” ê²ƒì…ë‹ˆë‹¤.

### 6.1 Trackable errors

ì¶”ì ê°€ëŠ¥í•œ ì˜¤ë¥˜

âœ… **Do**: ì˜¤ë¥˜ë¥¼ ë³´ê³ í•  ë•Œ í”„ë¡œì íŠ¸ ë¬¸ì„œì—ì„œ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” ì¶”ì  ê°€ëŠ¥í•œ ì˜¤ë¥˜ ì½”ë“œë¥¼ ì œê³µí•˜ê³  ì˜¤ë¥˜ ë©”ì‹œì§€ ë¬¸ì œ í•´ê²°ì„ ë‹¨ìˆœí™”í•©ë‹ˆë‹¤.

ê°€ëŠ¥í•œ ê²½ìš° ì¶”ì  ê°€ëŠ¥í•œ ì˜¤ë¥˜ ì½”ë“œë¥¼ ì¶”ê°€ ì •ë³´ë¡œ í™•ì¥í•˜ì—¬ ì‰½ê²Œ êµ¬ë¬¸ ë¶„ì„í•˜ê³  ì»¨í…ìŠ¤íŠ¸ë¥¼ ëª…í™•í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

âŒ **Otherwise**: ì¼ë°˜ ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” ëª¨í˜¸í•œ ê²½í–¥ì´ ìˆìœ¼ë©° ì‚¬ìš©ìê°€ í•´ê²°ì±…ì„ ì°¾ê¸° ì–´ë µê²Œ ë§Œë“­ë‹ˆë‹¤. êµ¬ë¬¸ ë¶„ì„ ë° ë¶„ì„ì€ ê°„ë‹¨í•˜ì§€ ì•Šìœ¼ë©° ë¬¸ì„œì—ì„œ ì°¸ì¡°í•˜ëŠ” ê²ƒë„ ê¹¨ë—í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

â„¹ï¸ **Details**

ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ ë°˜í™˜ë  ë•Œ ë‚˜ì¤‘ì— ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” ì°¸ì¡° ë²ˆí˜¸ ë˜ëŠ” íŠ¹ì • ì˜¤ë¥˜ ì½”ë“œê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤. HTTP ìƒíƒœ ì½”ë“œì™€ ë§ˆì°¬ê°€ì§€ë¡œ CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìˆ˜í–‰í•˜ë ¤ë©´ ëª…ëª…ë˜ê±°ë‚˜ ì½”ë”©ëœ ì˜¤ë¥˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.

Example:

```bash
$ my-cli-tool --doSomething

Error (E4002): please provide an API token via environment variables
```

### 6.2 Actionable errors

ìˆ˜ì • ê°€ëŠ¥í•œ ì˜¤ë¥˜

âœ… **Do**: ì‹¤íŒ¨í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” ì˜¤ë¥˜ê°€ ìˆë‹¤ê³  ë¶ˆí‰í•˜ê¸°ë³´ë‹¤ëŠ” ì‚¬ìš©ìì—ê²Œ ìˆ˜ì •ì´ í•„ìš”í•œ ì‚¬í•­ì„ ì•Œë ¤ì•¼ í•©ë‹ˆë‹¤.

âŒ **Otherwise**: ì˜¤ë¥˜ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ì¡°ì¹˜ì— ëŒ€í•œ íŒíŠ¸ ì—†ì´ ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ í‘œì‹œë˜ëŠ” ì‚¬ìš©ìëŠ” CLI ì•±ì„ ì„±ê³µì ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ ëª»í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â„¹ï¸ **Details**

Example:

```bash
$ my-cli-tool --doSomething

Error (E4002): please provide an API token via environment variables
```

### 6.3 Provide debug mode

ë””ë²„ê·¸ ëª¨ë“œ ì œê³µ

âœ… **Do**: ìˆ™ë ¨ëœ ì‚¬ìš©ìê°€ ë¬¸ì œë¥¼ ì§„ë‹¨í•´ì•¼ í•˜ëŠ” ê²½ìš° ë” ìì„¸í•œ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ë„ë¡ í—ˆìš©í•©ë‹ˆë‹¤.

âŒ **Otherwise**: ë””ë²„ê¹… ê¸°ëŠ¥ì„ ê±´ë„ˆë›°ì§€ ë§ˆì‹­ì‹œì˜¤. ì‚¬ìš©ìë¡œë¶€í„° í”¼ë“œë°±ì„ ìˆ˜ì§‘í•˜ê³  ì˜¤ë¥˜ì˜ ì›ì¸ì„ ì •í™•íˆ ì°¾ì•„ë‚´ê¸°ê°€ ë” ì–´ë ¤ì›Œì§ˆ ê²ƒì…ë‹ˆë‹¤.

â„¹ï¸ **Details**

í™˜ê²½ ë³€ìˆ˜ì™€ ì»¤ë§¨ë“œ ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í™•ì¥ëœ ë””ë²„ê·¸ ìƒì„¸ ìˆ˜ì¤€ì„ í™œì„±í™”í•©ë‹ˆë‹¤. ì½”ë“œì—ì„œ ì˜ë¯¸ê°€ ìˆëŠ” ê²½ìš° ì‚¬ìš©ìì™€ ê´€ë¦¬ìê°€ í”„ë¡œê·¸ë¨ íë¦„, ì…ë ¥ ë° ì¶œë ¥, ë¬¸ì œ í•´ê²°ì„ ë” ì‰½ê²Œ ë§Œë“œëŠ” ê¸°íƒ€ ì •ë³´ë¥¼ ì´í•´í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ë””ë²„ê·¸ ë©”ì‹œì§€ë¥¼ ì‹¬ìŠµë‹ˆë‹¤.

ğŸ“¦ Recommended packages

Reference to Open Source Node.js packages:

- debug

### 6.4 Proper use of exit codes

exit codeì˜ ì ì ˆí•œ ì‚¬ìš©

âœ… **Do**: ì˜¤ë¥˜ ë˜ëŠ” ì¢…ë£Œ ìƒíƒœì˜ ì˜ë¯¸ë¡ ì  ì˜ë¯¸ë¥¼ ì „ë‹¬í•˜ëŠ” ì ì ˆí•œ exit codeë¡œ í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.

âŒ **Otherwise**: exit codeê°€ ì˜ëª»ë˜ì—ˆê±°ë‚˜ ëˆ„ë½ë˜ë©´ ì§€ì†ì  í†µí•© íë¦„ ë° ê¸°íƒ€ command ìŠ¤í¬ë¦½íŒ… ì‚¬ìš© ì‚¬ë¡€ì—ì„œ CLI ì‚¬ìš©ì´ ë°©í•´ë¥¼ ë°›ìŠµë‹ˆë‹¤.

â„¹ï¸ **Details**

Command line scriptrs ëŠ” ì¢…ì¢… shellì„ ì‚¬ìš©í•˜ì—¬ `$?`í”„ë¡œê·¸ë¨ì˜ ìƒíƒœ ì½”ë“œë¥¼ ì¶”ë¡ í•˜ê³  ì´ì— ë”°ë¼ ì¡°ì¹˜ë¥¼ ì·¨í•©ë‹ˆë‹¤. ì´ëŠ” ë‹¨ê³„ë³„ë¡œ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ê¸° ìœ„í•´ CI(ì§€ì†ì ì¸ í†µí•©) flowì—ì„œë„ í™œìš©ë©ë‹ˆë‹¤.

CLIê°€ íŠ¹ì • ìƒíƒœ ì½”ë“œ ì—†ì´ í•­ìƒ ì¢…ë£Œë˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë”ë¼ë„ shellê³¼ ì´ì— ì˜ì¡´í•˜ëŠ” ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ì€ ì´ë¥¼ ì•Œ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì—†ìŠµë‹ˆë‹¤. í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œë˜ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ì´ ì˜ë¯¸ë¥¼ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:

```js
try {
  // something
} catch (err) {
  // cleanup or otherwise
  // then exit with proper status code
  process.exit(1);
}
```

exit codeì— ëŒ€í•œ ì§§ì€ ì°¸ì¡°:

- exit code 0ì€ ì„±ê³µì ì¸ ì‹¤í–‰ì„ ì „ë‹¬í•©ë‹ˆë‹¤.
- exit code 1ì€ ì‹¤íŒ¨ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.

ë˜í•œ í”„ë¡œê·¸ë¨ì˜ ì˜ë¯¸ë¡ ê³¼ í•¨ê»˜ ì‚¬ìš©ì ì •ì˜ exit codeë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì„ íƒí•  ìˆ˜ë„ ìˆì§€ë§Œ ê·¸ë ‡ê²Œ í•˜ëŠ” ê²½ìš° ì ì ˆí•˜ê²Œ ë¬¸ì„œí™”í•´ì•¼ í•©ë‹ˆë‹¤.

Reference: A list of [exit codes used by the BASH shell](http://www.tldp.org/LDP/abs/html/exitcodes.html)

### 6.5 Effortless bug reports

ì†ì‰¬ìš´ ë²„ê·¸ ë¦¬í¬íŠ¸

âœ… **Do**: ë¬¸ì œë¥¼ ì—´ â€‹â€‹ìˆ˜ ìˆëŠ” URLì„ ì œê³µí•˜ê³  í•„ìš”í•œ ë°ì´í„°ë¥¼ ìµœëŒ€í•œ ë§ì´ ë¯¸ë¦¬ ì±„ì›Œ ë²„ê·¸ ë³´ê³ ì„œë¥¼ ì œì¶œí•˜ëŠ” ì‘ì—…ì„ ì‰½ê²Œ ë§Œë“œì‹­ì‹œì˜¤. GitHub ì™€ ê°™ì€ ì´ìŠˆ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ë©´ ì–´ë–¤ ì •ë³´ê°€ í•„ìš”í•œì§€ ì‚¬ìš©ìì—ê²Œ ì¶”ê°€ë¡œ ì•ˆë‚´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

âŒ **Otherwise**: ì‚¬ìš©ìëŠ” ë²„ê·¸ë¥¼ ë³´ê³ í•˜ëŠ” ë°©ë²•ì„ ì°¾ëŠ” ë° ì–´ë ¤ì›€ì„ ê²ªê³  ë„ì›€ì´ ë˜ëŠ” ì •ë³´ê°€ ê±°ì˜ ì—†ê±°ë‚˜ ë¬¸ì œë¥¼ ì „í˜€ ì œì¶œí•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 7 Development

ì´ ì„¹ì…˜ì—ì„œëŠ” Node.js command ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¶•ì˜ ê°œë°œ ë° ìœ ì§€ ê´€ë¦¬ ëª¨ë²” ì‚¬ë¡€ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.

### 7.1 Use a bin object

bin ê°ì²´ë¥¼ ì‚¬ìš© í• ê²ƒ

âœ… **Do**: ê°œì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰ íŒŒì¼ì˜ ì´ë¦„ê³¼ ê²½ë¡œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

âŒ **Otherwise**: íŒ¨í‚¤ì§€ ì´ë¦„ì„ ì‹¤í–‰ íŒŒì¼ê³¼ ê²°í•©í•˜ê²Œ ë©ë‹ˆë‹¤.

â„¹ï¸ **Details**

ë‹¤ìŒì€ `package.json`íŒŒì¼ ì´ë¦„ê³¼ í”„ë¡œì íŠ¸ì˜ ìœ„ì¹˜ì—ì„œ ì‹¤í–‰ íŒŒì¼ì˜ ì´ë¦„ì„ ë¶„ë¦¬í•˜ëŠ” ì˜ˆë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.

```json
"bin": {
 "myCli-is-cool": "./bin/myCli.js"
}
```

### 7.2 Use relative paths

ìƒëŒ€ ê²½ë¡œë¥¼ ì‚¬ìš© í•  ê²ƒ

âœ… **Do**:`process.cwd()` ì‚¬ìš©ì ì…ë ¥ ê²½ë¡œì— ì•¡ì„¸ìŠ¤í•˜ëŠ” ë° ì‚¬ìš© í•˜ê³  `__dirname` í”„ë¡œì íŠ¸ ê¸°ë°˜ ê²½ë¡œì— ì•¡ì„¸ìŠ¤í•˜ëŠ” ë° ì‚¬ìš©í•©ë‹ˆë‹¤.

âŒ **Otherwise**: íŒŒì¼ ê²½ë¡œê°€ ì˜ëª»ë˜ì–´ íŒŒì¼ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ì—†ê²Œ ë©ë‹ˆë‹¤.

â„¹ï¸ **Details**

í”„ë¡œì íŠ¸ íŒŒì¼ ë²”ìœ„ ë‚´ì˜ íŒŒì¼ì— ì•¡ì„¸ìŠ¤í•˜ê±°ë‚˜ ì‚¬ìš©ì ì…ë ¥ì—ì„œ ì œê³µë˜ëŠ” íŒŒì¼ì— ì•¡ì„¸ìŠ¤í•´ì•¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤, ë§ˆì¹˜ log ë‚˜, JSON íŒŒì¼ê³¼ ê°™ì€ ê²ƒë“¤.
`process.cwd()` ë˜ëŠ” `__dirname`ì˜ ì‚¬ìš©ì„ í˜¼ë™í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤, ê²Œë‹¤ê°€ ë‘˜ ë‹¤ ì‚¬ìš©í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

íŒŒì¼ì— ì˜¬ë°”ë¥´ê²Œ ì•¡ì„¸ìŠ¤í•˜ëŠ” ë°©ë²•:

- `process.cwd()`: ì•¡ì„¸ìŠ¤í•´ì•¼ í•˜ëŠ” íŒŒì¼ ê²½ë¡œê°€ Node.js CLIì˜ ìƒëŒ€ ìœ„ì¹˜ì— ë”°ë¼ ë‹¤ë¥¼ ë•Œ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. ì´ì— ëŒ€í•œ ì¢‹ì€ ì˜ˆëŠ” CLIê°€ ë¡œê·¸ ìƒì„±ì„ ìœ„í•œ íŒŒì¼ ê²½ë¡œë¥¼ ì§€ì›í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤. ì˜ˆ: `myCli --outfile ../../out.json`. `myCli`ê°€ `/usr/local/node_modules/myCli/bin/myCli.js`ì— ì„¤ì¹˜ëœ ê²½ìš°ì—ëŠ” `process.cwd()`ëŠ” í•´ë‹¹ ìœ„ì¹˜ë¥¼ ì°¸ì¡°í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.ëŒ€ì‹  í˜„ì¬ ì‘ì—… ë””ë ‰í† ë¦¬ëŠ” ì´ëŠ” CLIê°€ í˜¸ì¶œë˜ì—ˆì„ ë•Œ ì‚¬ìš©ìê°€ ìˆë˜ ë””ë ‰í† ë¦¬ì…ë‹ˆë‹¤.

- `__dirname`: CLIì˜ ì†ŒìŠ¤ ì½”ë“œ ë‚´ì—ì„œ íŒŒì¼ì— ì ‘ê·¼í•´ì•¼ í•˜ê³  ì½”ë“œê°€ ìˆëŠ” íŒŒì¼ì˜ í•´ë‹¹ ìœ„ì¹˜ì—ì„œ íŒŒì¼ì„ ì°¸ì¡°í•´ì•¼ í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ CLIê°€ ë‹¤ë¥¸ ë””ë ‰í† ë¦¬ì˜ JSON ë°ì´í„° íŒŒì¼ì— ì ‘ê·¼í•´ì•¼ í•˜ëŠ” ê²½ìš° : `fs.readFile(path.join(__dirname, '..', 'myDataFile.json'))`.

### 7.3 Use the `files` field

`files`í•„ë“œ ì‚¬ìš©

âœ… **Do**: í•„ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ `files`ê²Œì‹œëœ íŒ¨í‚¤ì§€ì— í•„ìš”í•œ íŒŒì¼ë§Œ í¬í•¨í•˜ì‹­ì‹œì˜¤.

âŒ **Otherwise**: CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” ë° í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ ìˆëŠ” íŒŒì¼ì´ í¬í•¨ëœ íŒ¨í‚¤ì§€ê°€ ìƒì„±ë©ë‹ˆë‹¤. ì˜ˆ: (í…ŒìŠ¤íŠ¸ íŒŒì¼, ê°œë°œìš© ì„¤ì • ë“±)

â„¹ï¸ **Details**

ê²Œì‹œëœ íŒ¨í‚¤ì§€ í¬ê¸°ë¥¼ ì‘ê²Œ ìœ ì§€í•˜ë ¤ë©´ CLI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ”ê²ƒì— ê¼­ í•„ìš”í•œ íŒŒì¼ë§Œ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ì´ ê²Œì‹œë¬¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

> https://nodejs.medium.com/publishing-npm-packages-c4c615a0fc6b

ë‹¤ìŒ `files`í•„ë“œëŠ” ì‚¬ì–‘ íŒŒì¼ì„ ì œì™¸í•˜ê³  src ë””ë ‰í† ë¦¬ ë‚´ì˜ ëª¨ë“  íŒŒì¼ì„ í¬í•¨í•˜ë„ë¡ npm CLIì— ì§€ì‹œí•©ë‹ˆë‹¤.

```json
"files": [
"src",
"!src/**/*.spec.js"
],
```

# 9 Appendix: CLI Frameworks

### 9.1 CLI Frameworks Table

| Name       | Description                                                                                                               | npm                                                     | GitHub                                                       | Stars and downloads                                                                                               |
| ---------- | ------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------- | ------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------- |
| oclif      | A framework for building a command line interface.                                                                        | [Link to npm](https://www.npmjs.com/package/oclif)      | [Link to GitHub](https://github.com/oclif/oclif)             | ![](https://img.shields.io/github/stars/oclif/oclif)![](https://img.shields.io/npm/dt/oclif.svg)                  |
| inquirer   | A collection of common interactive command line user interfaces.                                                          | [Link to npm](https://www.npmjs.com/package/inquirer)   | [Link to GitHub](https://github.com/SBoudrias/Inquirer.js)   | ![](https://img.shields.io/github/stars/sboudrias/inquirer.js)![](https://img.shields.io/npm/dt/inquirer.svg)     |
| ink        | Ink provides the same component-based UI building experience that React offers in the browser, but for command-line apps. | [Link to npm](https://www.npmjs.com/package/ink)        | [Link to Github](https://github.com/vadimdemedes/ink)        | ![](https://img.shields.io/github/stars/vadimdemedes/ink)![](https://img.shields.io/npm/dt/ink.svg)               |
| blessed    | A curses-like library with a high level terminal interface API for node.js.                                               | [Link to npm](https://www.npmjs.com/package/blessed)    | [Link to GitHub](https://github.com/chjj/blessed)            | ![](https://img.shields.io/github/stars/chjj/blessed)![](https://img.shields.io/npm/dt/blessed.svg)               |
| prompts    | Lightweight, beautiful and user-friendly interactive prompts                                                              | [Link to npm](https://npmjs.org/package/prompts)        | [Link to GitHub](https://github.com/terkelg/prompts)         | ![](https://img.shields.io/github/stars/terkelg/prompts)![](https://img.shields.io/npm/dt/prompts.svg)            |
| vue-termui | A Vue.js based terminal UI framework that allows you to build modern terminal applications with ease.                     | [Link to npm](https://www.npmjs.org/package/vue-termui) | [Link to GitHub](https://github.com/vue-terminal/vue-termui) | ![](https://img.shields.io/github/stars/vue-terminal/vue-termui)![](https://img.shields.io/npm/dt/vue-termui.svg) |

```toc
```